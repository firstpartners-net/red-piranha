# What this file is
# how to run - from within this directory (-d gives logging messages from server)
#     docker-compose up -d
#
# How to Stop 
#     from this directory: docker-compose down
#     Open in Docker Desktop, stop there


version: '2.1.1'
services:

# Sample applications Provided by RedHat Jboss
# This image contains both Business Central Editor and KIE Server for execution
  jbpm-server-full :
    container_name: Business-Central-and-KIE-Server     
    image: jboss/jbpm-server-full:latest

    ports:
      - 8080:8080
      - 8001:8001
#    volumes:
#      - jbossroot:/opt/jboss/wildfly/                     #everything interesting happens under here


# Docker based application to map from Excel to Jboss tools
# This image generated by Maven from this project (pom.xml in \code folder)
#        mvn spring-boot:build-image -Dmaven.test.skip=true



  red:
    #image: paulbrowne/redpiranha:latest
    image: paulbrowne/redpiranha:2.1.1-SNAPSHOT
    
    ports:
      - 7000:7000
    volumes:
      - redexamples:/workspace/BOOT-INF/classes/examples

    depends_on:
      - jbpm-server-full 

# the names we can find in windows explorer under \\wsl$\docker-desktop-data\version-pack-data\community\docker\volumes
volumes:
  redexamples: {}
#  jbossroot: {}



